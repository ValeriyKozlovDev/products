"use strict";(self.webpackChunkproducts=self.webpackChunkproducts||[]).push([[142],{9142:(E,m,r)=>{r.r(m),r.d(m,{AuthComponent:()=>D});var s=r(9401),u=r(4755),f=r(3144),l=r(8030),d=r(8805),p=r(4509),c=r(6518),h=r(4360),_=r(3205),v=r(7174),t=r(2223),x=r(8784),A=r(7579);let C=(()=>{class e{constructor(){this._destroy$=new A.x}get destroy$(){return this._destroy$.asObservable()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=t.lG2({type:e,selectors:[["destroy"]],standalone:!0}),e})();var b=r(9549),T=r(4859),g=r(3546);function Z(e,i){1&e&&(t.TgZ(0,"h1"),t._uU(1,"Log in"),t.qZA())}function I(e,i){1&e&&(t.TgZ(0,"h1"),t._uU(1,"Create Account"),t.qZA())}function y(e,i){1&e&&(t.TgZ(0,"mat-card")(1,"mat-card-content"),t._uU(2," Please login to your account to get to the products page "),t.qZA()())}function J(e,i){1&e&&t._UZ(0,"hr")}function N(e,i){if(1&e&&t._UZ(0,"app-text-input",14),2&e){const n=t.oxw();t.Q6J("value",n.formGroup.value.name)("label","Name")}}function G(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Password must not be shorter then "),t.TgZ(2,"strong"),t._uU(3,"6"),t.qZA(),t._uU(4," symbols "),t.qZA())}function Q(e,i){if(1&e&&(t.TgZ(0,"button",15),t._uU(1,"Log in"),t.qZA()),2&e){const n=t.oxw();t.Q6J("disabled",n.formGroup.invalid||n.submitted)}}function U(e,i){if(1&e&&(t.TgZ(0,"button",15),t._uU(1,"Sing Up"),t.qZA()),2&e){const n=t.oxw();t.Q6J("disabled",n.formGroup.invalid||n.submitted)}}function O(e,i){1&e&&(t.TgZ(0,"span",16),t._uU(1,"If you haven't account please"),t.qZA())}function P(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.changeRegistered(!1))}),t._uU(1,"Sing Up"),t.qZA()}}function Y(e,i){1&e&&(t.TgZ(0,"span",16),t._uU(1,"If you have account please"),t.qZA())}function w(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.changeRegistered(!0))}),t._uU(1,"Sign In"),t.qZA()}}const M={provide:f.TP,multi:!0,useClass:d.s};let D=(()=>{class e{constructor(n,o){this.auth=n,this._store=o,this.registered=!0,this.submitted=!1,this.loading$=this._store.select(l.E6.selectLoading),this.loginAgain$=this._store.select(l.E6.selectLoginAgain)}ngOnInit(){this.formInit()}_signIn(n){this._store.dispatch((0,p.x4)({data:n})),this.formGroup.reset(),this.submitted=!1}formInit(){this.formGroup=new s.cw({email:new s.NI("",[s.kI.required,s.kI.email]),name:new s.NI(""),password:new s.NI("",[s.kI.required,s.kI.minLength(6)])})}onSubmit(){if(this.formGroup.invalid||!this.registered&&!this.formGroup.value.name.length)return;let n;this.submitted=!0,this.registered?(n={email:this.formGroup.value.email,password:this.formGroup.value.password},this._signIn(n)):(n={email:this.formGroup.value.email,name:this.formGroup.value.name,password:this.formGroup.value.password},this._store.dispatch((0,p.z2)({user:n})),this.submitted=!1)}changeRegistered(n){this.registered=n}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.e),t.Y36(x.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth"]],standalone:!0,features:[t._Bn([v.a,M,c.e]),t.jDz,t.zW0([C])],decls:23,vars:20,consts:[[1,"container"],[1,"form"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"login-form__title"],[4,"ngIf"],[1,"form__warning"],["formControlName","email",3,"value","label"],["formControlName","name",3,"value","label",4,"ngIf"],["formControlName","password",3,"value","label","type"],[1,"login-form__input-control"],["mat-raised-button","","color","primary","class","login-form__submit",3,"disabled",4,"ngIf"],[1,"toggle"],["class","text",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["formControlName","name",3,"value","label"],["mat-raised-button","","color","primary",1,"login-form__submit",3,"disabled"],[1,"text"],["mat-raised-button","",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(3,"div",3),t.YNc(4,Z,2,0,"h1",4),t.YNc(5,I,2,0,"h1",4),t.qZA(),t.TgZ(6,"div",5),t.YNc(7,y,3,0,"mat-card",4),t.ALo(8,"async"),t.qZA(),t._UZ(9,"app-text-input",6),t.YNc(10,J,1,0,"hr",4),t.YNc(11,N,1,2,"app-text-input",7),t._UZ(12,"hr")(13,"app-text-input",8),t.YNc(14,G,5,0,"mat-error",4),t.TgZ(15,"div",9),t.YNc(16,Q,2,1,"button",10),t.YNc(17,U,2,1,"button",10),t.qZA(),t.TgZ(18,"div",11),t.YNc(19,O,2,0,"span",12),t.YNc(20,P,2,0,"button",13),t.YNc(21,Y,2,0,"span",12),t.YNc(22,w,2,0,"button",13),t.qZA()()()()),2&n&&(t.xp6(2),t.Q6J("formGroup",o.formGroup),t.xp6(2),t.Q6J("ngIf",o.registered),t.xp6(1),t.Q6J("ngIf",!o.registered),t.xp6(2),t.Q6J("ngIf",t.lcZ(8,18,o.loginAgain$)),t.xp6(2),t.Q6J("value",o.formGroup.value.email)("label","Email"),t.xp6(1),t.Q6J("ngIf",!o.registered),t.xp6(1),t.Q6J("ngIf",!o.registered),t.xp6(2),t.Q6J("value",o.formGroup.value.password)("label","Password")("type","password"),t.xp6(1),t.Q6J("ngIf",o.formGroup.hasError("minLength","password")),t.xp6(2),t.Q6J("ngIf",o.registered),t.xp6(1),t.Q6J("ngIf",!o.registered),t.xp6(2),t.Q6J("ngIf",o.registered),t.xp6(1),t.Q6J("ngIf",o.registered),t.xp6(1),t.Q6J("ngIf",!o.registered),t.xp6(1),t.Q6J("ngIf",!o.registered))},dependencies:[u.ez,u.O5,u.Ov,h.m,b.TO,T.lW,s._Y,s.JJ,s.JL,s.sg,s.u,g.a8,g.dn,_.t],styles:[".toggle[_ngcontent-%COMP%]{margin-top:20px;left:70%;padding:10px}.toggle[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-right:10px}.form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:5%}.login-form[_ngcontent-%COMP%]{width:350px}.login-form__input-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.login-form__title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.login-form__submit[_ngcontent-%COMP%]{width:150px}.form__warning[_ngcontent-%COMP%]{margin-bottom:20px;color:red}"],changeDetection:0}),e})()}}]);